# Contract Intelligence Parser Backend Configuration
# Copy this file to .env and update with your specific values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# MongoDB Connection URI
# For local MongoDB instance
MONGO_URI=mongodb://localhost:27017/contract_db

# For MongoDB Atlas (Cloud)
# MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/contract_db?retryWrites=true&w=majority

# For MongoDB with authentication
# MONGO_URI=mongodb://username:password@localhost:27017/contract_db

# =============================================================================
# REDIS CONFIGURATION (Task Broker & Result Backend)
# =============================================================================

# Local Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_URL=redis://localhost:6379/0

# Redis Cloud Configuration (Example)
# REDIS_HOST=redis-12345.c1.us-east-1-1.ec2.cloud.redislabs.com
# REDIS_PORT=12345
# REDIS_USERNAME=default
# REDIS_PASSWORD=your-redis-password
# REDIS_URL=redis://default:your-redis-password@redis-host:port/0

# Redis with Authentication
# REDIS_URL=redis://:password@localhost:6379/0

# =============================================================================
# CELERY CONFIGURATION
# =============================================================================

# Celery Broker (usually same as Redis URL)
CELERY_BROKER_URL=redis://localhost:6379/0

# Celery Result Backend
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# Celery Worker Configuration
CELERY_WORKER_CONCURRENCY=4
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json

# =============================================================================
# APPLICATION SECURITY
# =============================================================================

# Secret key for JWT tokens and other cryptographic operations
# Generate a secure key: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=change-this-to-a-secure-random-key-in-production-min-32-characters

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================

# Maximum file size in bytes (50MB = 52428800 bytes)
MAX_FILE_SIZE=52428800

# Upload directory for temporary files
UPLOAD_DIR=uploads

# Allowed file types (comma-separated)
ALLOWED_FILE_EXTENSIONS=.pdf

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API version prefix
API_V1_STR=/api/v1

# Project metadata
PROJECT_NAME=Contract Intelligence Parser
PROJECT_DESCRIPTION=Automated contract analysis and data extraction system
PROJECT_VERSION=1.0.0

# CORS Configuration (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=false

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Server host and port
HOST=0.0.0.0
PORT=8000

# =============================================================================
# CONTRACT EXTRACTION CONFIGURATION
# =============================================================================

# Maximum number of pages to process per PDF
MAX_PAGES_PROCESS=50

# Text extraction timeout in seconds
TEXT_EXTRACTION_TIMEOUT=30

# Minimum confidence threshold for field acceptance (0.0 - 1.0)
MIN_CONFIDENCE_THRESHOLD=0.7

# High confidence bonus multiplier
HIGH_CONFIDENCE_BONUS=1.1

# Supported languages (comma-separated ISO codes)
SUPPORTED_LANGUAGES=en,es,fr

# =============================================================================
# SCORING ALGORITHM WEIGHTS
# =============================================================================

# Scoring weights (must sum to 100)
WEIGHT_FINANCIAL_COMPLETENESS=30
WEIGHT_PARTY_IDENTIFICATION=25
WEIGHT_PAYMENT_TERMS=20
WEIGHT_SLA_DEFINITION=15
WEIGHT_CONTACT_INFORMATION=10

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Database connection pool size
DATABASE_POOL_SIZE=10

# Redis connection pool size
REDIS_CONNECTION_POOL=20

# Worker process timeout in seconds
WORKER_TIMEOUT=300

# Maximum concurrent tasks per worker
MAX_CONCURRENT_TASKS=10

# =============================================================================
# MONITORING & ANALYTICS
# =============================================================================

# Enable metrics collection (true/false)
ENABLE_METRICS=false

# Metrics export port (Prometheus)
METRICS_PORT=9090

# Health check interval in seconds
HEALTH_CHECK_INTERVAL=30

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================

# Webhook URL for notifications (optional)
# WEBHOOK_URL=https://your-webhook-endpoint.com/contract-updates

# Email service configuration (optional)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USERNAME=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# Cloud storage configuration (optional)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_BUCKET_NAME=contract-intelligence-storage
# AWS_REGION=us-west-2

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Auto-reload on code changes (development only)
AUTO_RELOAD=true

# Enable API documentation (true/false)
ENABLE_DOCS=true

# Enable detailed error responses (development only)
SHOW_ERROR_DETAILS=true

# Test database URI (for running tests)
TEST_MONGO_URI=mongodb://localhost:27017/contract_db_test
